<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Calcul MB - Coach Alexis</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow-x: hidden;
      font-family: 'Inter', sans-serif;
    }
    .bg-video {
      position: fixed;
      top: 0;
      left: 0;
      min-width: 100%;
      min-height: 100%;
      z-index: -1;
      object-fit: cover;
    }
    .overlay {
      position: relative;
      z-index: 1;
      color: black;
      padding: 20px;
      background: rgba(255,255,255,0.85);
      max-width: 600px;
      margin: 50px auto;
      border-radius: 10px;
      transition: background 0.3s, color 0.3s;
    }
    .light-mode .overlay {
      background: rgba(255,255,255,0.9);
      color: black;
    }
    .dark-mode .overlay {
      background: rgba(0,0,0,0.6);
      color: white;
    }
    form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 20px;
    }
    label, select, input, button {
      font-size: 1rem;
    }
    input, select {
      padding: 8px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }
    button {
      cursor: pointer;
      padding: 10px;
      border-radius: 5px;
      border: none;
      background-color: #e63946;
      color: white;
    }
    .footer-links {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 30px;
      align-items: center;
      flex-wrap: wrap;
    }
    .footer-links a, .footer-links button {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      color: inherit;
      text-decoration: none;
      font-weight: bold;
      background: rgba(255,255,255,0.2);
      padding: 8px 12px;
      border-radius: 5px;
    }
    .flag-icon {
      width: 20px;
      height: 14px;
    }
    .help-bubble {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: white;
      color: #e63946;
      border: 2px solid #e63946;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 24px;
      cursor: pointer;
      z-index: 10;
    }
    .help-popup {
      position: fixed;
      bottom: 80px;
      right: 20px;
      background: white;
      border-radius: 8px;
      padding: 15px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      max-width: 300px;
      font-size: 14px;
      display: none;
      z-index: 11;
      color: #333;
    }
    .branding {
      position: absolute;
      top: 10px;
      left: 10px;
      font-weight: bold;
      font-size: 1.2rem;
      background-color: rgba(255, 255, 255, 0.6);
      padding: 6px 10px;
      border-radius: 8px;
      color: #e63946;
      z-index: 2;
    }
  </style>
</head>
<body class="dark-mode">
  <div class="branding">Coach Alexis ‚ö°</div>
  <video autoplay muted loop class="bg-video" id="bgVideo">
    <source src="video-night.mp4" type="video/mp4">
  </video>
  <div class="overlay">
    <h1 id="titre">Calcul de ton m√©tabolisme de base</h1>
    <p id="accroche">D√©couvre d√®s maintenant combien de calories il te faut pour atteindre tes objectifs !</p>
    <form>
      <label for="objectif" id="objectifLabel">Quel est ton objectif ?</label>
      <select id="objectif" name="objectif">
        <option value="maintien">Maintien (‚âà 0 kg/mois)</option>
        <option value="deficit5">Perte ‚âà 0.5 kg/mois</option>
        <option value="deficit10">Perte ‚âà 1 kg/mois</option>
        <option value="surplus5">Prise ‚âà 0.5 kg/mois</option>
        <option value="surplus10">Prise ‚âà 1 kg/mois</option>
      </select>
      <label for="sexe" id="sexeLabel">Quel est ton sexe de naissance ?</label>
      <select id="sexe" name="sexe">
        <option value="homme">Homme</option>
        <option value="femme">Femme</option>
      </select>
      <label for="poids" id="poidsLabel">Ton poids (kg)</label>
      <input type="number" id="poids" name="poids" required>
      <label for="taille" id="tailleLabel">Ta taille (cm)</label>
      <input type="number" id="taille" name="taille" required>
      <label for="age" id="ageLabel">Ton √¢ge (ann√©es)</label>
      <input type="number" id="age" name="age" required>
      <button type="submit" id="calculerBtn">Calculer</button>
    </form>
    <details><summary id="quiSuisJe">Qui suis-je ?</summary>
      <p id="bio">Je m'appelle Alexis, j'ai 22 ans, je suis tr√®s solaire et souriant. Coach passionn√©, je t'aide √† atteindre tes objectifs !</p>
    </details>
    <details><summary id="formuleTitre">Formule utilis√©e</summary>
      <p id="formuleTexte">Formule de Harris-Benedict :<br>
        - Homme : MB = 66.5 + (13.75 √ó poids) + (5.003 √ó taille) ‚àí (6.775 √ó √¢ge)<br>
        - Femme : MB = 655.1 + (9.563 √ó poids) + (1.850 √ó taille) ‚àí (4.676 √ó √¢ge)</p>
    </details>
    <div class="footer-links">
      <button class="language-btn" onclick="toggleLang()" id="langBtn">
        <img src="https://flagcdn.com/fr.svg" class="flag-icon" id="flagIcon" alt="FR">
        <span id="langText">Fran√ßais</span>
      </button>
      <button onclick="toggleMode()" id="modeBtn"><span class="emoji" id="modeIcon">üåô</span></button>
      <a href="https://instagram.com/alexis.champroux" target="_blank"><span class="emoji">üì∑</span> alexis.champroux</a>
      <a href="#outil-premium"><span class="emoji">üîí</span> Outil Premium</a>
    </div>
  </div>
  <div class="help-bubble" onclick="toggleHelp()">‚ùì</div>
  <div class="help-popup" id="helpPopup">
    Besoin d'aide ?<br>
    - Remplis tous les champs.<br>
    - Choisis ton objectif.<br>
    - Clique sur "Calculer" pour conna√Ætre ton besoin calorique.<br><br>
    En cas de doute, contacte-moi sur Instagram ! üí™
  </div>
  <script>
    const body = document.body;
    const modeIcon = document.getElementById('modeIcon');
    const bgVideo = document.getElementById('bgVideo');
    const flagIcon = document.getElementById('flagIcon');
    const langText = document.getElementById('langText');
    let isDark = true, isFrench = true;

    function toggleMode() {
      isDark = !isDark;
      body.classList.toggle('dark-mode');
      body.classList.toggle('light-mode');
      modeIcon.textContent = isDark ? 'üåô' : '‚òÄÔ∏è';
      bgVideo.src = isDark ? 'video-night.mp4' : 'video-day.mp4';
    }

    function toggleLang() {
      isFrench = !isFrench;
      flagIcon.src = isFrench ? 'https://flagcdn.com/fr.svg' : 'https://flagcdn.com/es.svg';
      langText.textContent = isFrench ? 'Fran√ßais' : 'Espa√±ol';
      document.getElementById("titre").textContent = isFrench ? 'Calcul de ton m√©tabolisme de base' : 'Calcula tu metabolismo basal';
    }

    function toggleHelp() {
      const popup = document.getElementById('helpPopup');
      popup.style.display = popup.style.display === 'block' ? 'none' : 'block';
    }

    document.querySelector('form').addEventListener('submit', function(e) {
      e.preventDefault();

      const poids = parseFloat(document.getElementById('poids').value);
      const taille = parseFloat(document.getElementById('taille').value);
      const age = parseFloat(document.getElementById('age').value);
      const sexe = document.getElementById('sexe').value;
      const objectif = document.getElementById('objectif').value;

      if (!poids || !taille || !age || !sexe || !objectif) {
        alert("Merci de remplir tous les champs !");
        return;
      }

      let mb;
      if (sexe === 'homme') {
        mb = 66.5 + (13.75 * poids) + (5.003 * taille) - (6.775 * age);
      } else {
        mb = 655.1 + (9.563 * poids) + (1.850 * taille) - (4.676 * age);
      }

      let coef = {
        'deficit10': 0.80,
        'deficit5': 0.90,
        'maintien': 1.00,
        'surplus5': 1.10,
        'surplus10': 1.20
      }[objectif];

      const total = Math.round(mb * coef);

      alert(`üî• Ton besoin calorique estim√© est de ${total} kcal / jour`);
    });
  </script>
</body>
</html>

