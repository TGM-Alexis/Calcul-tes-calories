<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Calcul MB - Coach Alexis</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body, html { margin:0; padding:0; height:100%; font-family:'Inter',sans-serif; }
    .bg-video { position:fixed;top:0;left:0;min-width:100%;min-height:100%;z-index:-1;object-fit:cover; }
    .overlay { position:relative; z-index:1; padding:20px; max-width:600px;margin:50px auto; border-radius:10px;
      background:rgba(255,255,255,0.85); transition:background .3s,color .3s; }
    .light-mode .overlay { background:rgba(255,255,255,0.9); color:black; }
    .dark-mode .overlay { background:rgba(0,0,0,0.6); color:white; }
    form { display:flex; flex-direction:column; gap:10px; margin-top:20px; }
    label, select, input, button { font-size:1rem; }
    input, select { padding:8px; border:1px solid #ccc; border-radius:5px; }
    button { padding:10px; border:none; border-radius:5px; background:#e63946; color:white; cursor:pointer; }
    details { margin-top:10px; }
    .footer-links { display:flex; justify-content:center; gap:15px; flex-wrap:wrap; margin-top:30px; }
    .footer-links a, .footer-links button { display:inline-flex;align-items:center;gap:8px;
      background:rgba(255,255,255,0.2);padding:8px 12px;border-radius:5px;text-decoration:none;color:inherit;font-weight:bold; }
    .flag-icon { width:20px;height:14px; }
    .help-bubble { position:fixed;bottom:20px;right:20px;background:white;color:#e63946;border:2px solid #e63946;border-radius:50%;width:50px;height:50px;display:flex;justify-content:center;align-items:center;font-size:24px;cursor:pointer;z-index:10; }
    .help-popup { position:fixed;bottom:80px;right:20px;background:white;border-radius:8px;padding:15px;box-shadow:0 4px 12px rgba(0,0,0,0.3);max-width:300px;font-size:14px;display:none;z-index:11;color:#333; }
    .branding { position:absolute;top:10px;left:10px;background:rgba(255,255,255,0.6);padding:6px 10px;border-radius:8px;color:#e63946;font-weight:bold;font-size:1.2rem;z-index:2; }
  </style>
</head>
<body class="dark-mode">
  <div class="branding">Coach Alexis ‚ö°</div>
  <video autoplay muted loop class="bg-video" id="bgVideo"><source src="video-night.mp4"></video>
  <div class="overlay">
    <h1 id="titre">Calcul de ton m√©tabolisme de base</h1>
    <p id="accroche">D√©couvre combien de calories il te faut selon ton objectif et ton activit√©.</p>
    <form>
      <!-- Objectif -->
      <label id="objectifLabel" for="objectif">Quel est ton objectif ?</label>
      <select id="objectif" name="objectif">
        <option value="maintien">Maintien</option>
        <option value="deficit5">Perte ~0.5‚ÄØkg/mois</option>
        <option value="deficit10">Perte ~1‚ÄØkg/mois</option>
        <option value="surplus5">Prise ~0.5‚ÄØkg/mois</option>
        <option value="surplus10">Prise ~1‚ÄØkg/mois</option>
      </select>

      <!-- Sexe -->
      <label id="sexeLabel" for="sexe">Sexe de naissance</label>
      <select id="sexe" name="sexe">
        <option value="homme">Homme</option>
        <option value="femme">Femme</option>
      </select>

      <!-- Poids, taille, √¢ge -->
      <label id="poidsLabel" for="poids">Poids (kg)</label>
      <input type="number" id="poids" name="poids" required>

      <label id="tailleLabel" for="taille">Taille (cm)</label>
      <input type="number" id="taille" name="taille" required>

      <label id="ageLabel" for="age">√Çge (ann√©es)</label>
      <input type="number" id="age" name="age" required>

      <!-- Activit√© -->
      <label id="activiteLabel" for="activite">Niveau d‚Äôactivit√©</label>
      <select id="activite" name="activite">
        <option value="1.2">üö∂‚Äç‚ôÇÔ∏è S√©dentaire</option>
        <option value="1.375">üèÉ Mod√©r√©</option>
        <option value="1.55">üö¥ Actif</option>
        <option value="1.725">üèãÔ∏è Tr√®s Actif</option>
        <option value="1.9">üí• Extr√™mement Actif</option>
      </select>

      <button type="submit" id="calculerBtn">Calculer</button>
    </form>

    <!-- Details -->
    <details><summary id="quiSuisJe">Qui suis-je ?</summary>
      <p id="bio">Je m'appelle Alexis, j'ai 22 ans, je suis tr√®s solaire et souriant. Coach passionn√©, je t'aide √† atteindre tes objectifs !</p>
    </details>
    <details><summary id="formuleTitre">Formule utilis√©e</summary>
      <p id="formuleTexte">Formule Harris‚ÄëBenedict :<br>
        ‚Äì Homme : MB = 66.5 + 13.75√ópoids + 5.003√ótaille ‚Äì 6.775√ó√¢ge<br>
        ‚Äì Femme : MB = 655.1 + 9.563√ópoids + 1.850√ótaille ‚Äì 4.676√ó√¢ge</p>
    </details>

    <!-- Footer -->
    <div class="footer-links">
      <button onclick="toggleLang()" id="langBtn">
        <img src="https://flagcdn.com/fr.svg" id="flagIcon" class="flag-icon">
        <span id="langText">Fran√ßais</span>
      </button>
      <button onclick="toggleMode()" id="modeBtn"><span id="modeIcon">üåô</span></button>
      <a href="https://instagram.com/alexis.champroux" target="_blank">üì∑ alexis.champroux</a>
      <a href="#outil-premium">üîí Outil Premium</a>
    </div>
  </div>

  <!-- Bulle aide -->
  <div class="help-bubble" onclick="toggleHelp()">‚ùì</div>
  <div class="help-popup" id="helpPopup">
    <strong>Aide rapide :</strong><br/>
    - Remplis tous les champs.<br/>
    - Choisis ton objectif et ton activit√©.<br/>
    - Clique sur "Calculer" pour ton TDEE.<br/><br/>
    Si besoin, contacte-moi sur Instagram üß≠
  </div>

  <script>
    // R√©f√©rences
    const body=document.body, modeIcon=document.getElementById('modeIcon'),
          bgVideo=document.getElementById('bgVideo'), flagIcon=document.getElementById('flagIcon'),
          langText=document.getElementById('langText'), titre=document.getElementById('titre'),
          accroche=document.getElementById('accroche'), objectifLabel=document.getElementById('objectifLabel'),
          sexeLabel=document.getElementById('sexeLabel'), poidsLabel=document.getElementById('poidsLabel'),
          tailleLabel=document.getElementById('tailleLabel'), ageLabel=document.getElementById('ageLabel'),
          activiteLabel=document.getElementById('activiteLabel'), btn=document.getElementById('calculerBtn'),
          popup=document.getElementById('helpPopup');

    let isDark=true, isFrench=true;

    const translations={
      fr:{titre:'Calcul de ton m√©tabolisme de base', accroche:'D√©couvre combien de calories il te faut selon ton objectif et ton activit√©.', objectif:['Maintien','Perte ~0.5‚ÄØkg/mois','Perte ~1‚ÄØkg/mois','Prise ~0.5‚ÄØkg/mois','Prise ~1‚ÄØkg/mois'], sexe:['Homme','Femme'], activite:['S√©dentaire','Mod√©r√©','Actif','Tr√®s Actif','Extr√™mement Actif'], calculer:'Calculer', aide:'Aide rapide :\n- Remplis tous les champs.\n- Choisis ton objectif et ton activit√©.\n- Clique sur "Calculer" pour ton TDEE.\nSi besoin, contacte-moi sur Instagram üß≠'},
      es:{titre:'Calcula tu metabolismo basal', accroche:'Descubre cu√°ntas calor√≠as necesitas seg√∫n tu objetivo y actividad.', objectif:['Mantenimiento','P√©rdida ~0,5‚ÄØkg/mes','P√©rdida ~1‚ÄØkg/mes','Ganancia ~0,5‚ÄØkg/mes','Ganancia ~1‚ÄØkg/mes'], sexe:['Hombre','Mujer'], activite:['Sedentario','Moderado','Activo','Muy Activo','Extremadamente Activo'], calculer:'Calcular', aide:'Ayuda r√°pida:\n- Completa todos los campos.\n- Selecciona tu objetivo y actividad.\n- Haz clic en "Calcular" para tu TDEE.\nSi necesitas, cont√°ctame en Instagram üß≠'}
    };

    function toggleMode(){
      isDark=!isDark;
      body.classList.toggle('light-mode',!isDark);
      modeIcon.textContent=isDark?'üåô':'‚òÄÔ∏è';
      bgVideo.src=isDark?'video-night.mp4':'video-day.mp4';
    }

    function toggleLang(){
      isFrench=!isFrench;
      const lang=isFrench?'fr':'es';
      flagIcon.src=isFrench?'https://flagcdn.com/fr.svg':'https://flagcdn.com/es.svg';
      langText.textContent=isFrench?'Fran√ßais':'Espa√±ol';
      const t=translations[lang];
      titre.textContent=t.titre;
      accroche.textContent=t.accroche;
      objectifLabel.textContent=isFrench?'Quel est ton objectif ?':'¬øCu√°l es tu objetivo?';
      sexeLabel.textContent=isFrench?'Sexe de naissance':'Sexo de nacimiento';
      poidsLabel.textContent=isFrench?'Poids (kg)':'Peso (kg)';
      tailleLabel.textContent=isFrench?'Taille (cm)':'Estatura (cm)';
      ageLabel.textContent=isFrench?'√Çge (ann√©es)':'Edad (a√±os)';
      activiteLabel.textContent=isFrench?'Niveau d‚Äôactivit√©':'Nivel de actividad';
      btn.textContent=t.calculer;
      popup.innerHTML='<strong>'+(isFrench?'Aide rapide':'Ayuda r√°pida')+'</strong><br/>'+t.aide.replace(/\n/g,'<br/>');
      document.querySelectorAll('#objectif option').forEach((o,i)=>o.textContent=t.objectif[i]);
      document.querySelectorAll('#sexe option').forEach((o,i)=>o.textContent=t.sexe[i]);
      document.querySelectorAll('#activite option').forEach((o,i)=>o.textContent=t.activite[i]);
    }

    function toggleHelp(){
      popup.style.display=(popup.style.display==='block')?'none':'block';
    }

    document.querySelector('form').addEventListener('submit',e=>{
      e.preventDefault();
      const poids=parseFloat(document.getElementById('poids').value),
            taille=parseFloat(document.getElementById('taille').value),
            age=parseFloat(document.getElementById('age').value),
            sexe=document.getElementById('sexe').value,
            objectif=document.getElementById('objectif').value,
            activite=parseFloat(document.getElementById('activite').value);
      if(!poids||!taille||!age||!sexe||!objectif||!activite){
        alert(isFrench?"Merci de remplir tous les champs !":"¬°Completa todos los campos!");
        return;
      }
      const mb = sexe==='homme'?66.5+13.75*poids+5.003*taille-6.775*age:655.1+9.563*poids+1.85*taille-4.676*age;
      const coefObj={deficit10:0.8,deficit5:0.9,maintien:1,surplus5:1.1,surplus10:1.2}[objectif];
      const tdee=Math.round(mb*coefObj*activite);
      alert((isFrench?"üî• Besoin calorique estim√©":"üî• Necesitas aproximadamente")+": "+tdee+" kcal "+(isFrench?"/ jour":"/ d√≠a"));
    });
  </script>
</body>
</html>

